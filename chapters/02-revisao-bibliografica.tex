\chapter{Fundamentação Teórica}
\label{cap:revisao_bibliografica}

Este trabalho visa apresentar uma forma de realizar testes de desempenho em
larga escala para aplicações e sistemas dentro do contexto de uma Cidade
Inteligente. Visando dar um embasamento teórico para o que será proposto, neste
capítulo serão apresentados conceitos referentes a teste de software focando
principalmente em testes de desempenho. Serão levantadas também singularidades
no âmbito de Cidades Inteligentes, com o intuito de elucidar os problemas chave
que este trabalho visa solucionar.

\section{Teste de Software}

O software como qualquer outro produto desenvolvido a partir do trabalho
humano é passível de conter falhas, defeitos e erros. As atividades de
verificação e validação de software surgem para a identificação e correção
desse problemas antes dos mesmos serem liberados para utilização
\cite{teste_de_software}. Sendo assim, é uma forma de garantir a qualidade do
software que está sendo desenvolvido.

A verificação é um meio de garantir que o software está sendo feito
corretamente, ou seja, é um processo de avaliar se foi feito o que foi
planejado. Já a validação visa identificar se está sendo desenvolvido o
software correto, sendo esse o software que o cliente ou usuário final deseja.
Muitas vezes pode haver problemas já no levantamento dos requisitos, e com isso
todas as verificações levarão a crer que o software está sendo desenvolvido
corretamente, mas como a elicitação dos requisitos foi errônea o software
desenvolvido não será o correto, levando o projeto de software ao fracasso.

Atividades de verificação e validação devem ser realizadas durante todo o ciclo
de desenvolvimento de software, passando desde de a elicitação de requisitos
até a implantação do sistema. Dentre as técnicas usadas para a verificação e
validação existem dinâmicas e estáticas, sendo que as dinâmicas necessitam da
]execução do software e as estáticas não. Um exemplo de técnica estática é a
inspeção de software, que é um tipo particular de revisão que possui um
processo de detecção de defeitos rigoroso e bem definido \cite{fagan_2002}. Por
sua vez, o teste de software é uma atividade dinâmica, onde o seu intuito é
executar o programa ou modelo utilizando algumas entradas em particular e
verificar se seu comportamento está de acordo com o esperado
\cite{teste_de_software}. A especificação desse comportamento esperado se dá
em forma de requisitos funcionais e não funcionais do software.

Teste de software é uma atividade complexa, portanto deve ser desenvolvida
durante todo o ciclo de desenvolvimento \cite{teste_de_software}. Essa
atividade, de forma geral, é dividida em fases de testes de unidade, teste de
integração e teste de sistemas, onde cada uma tem um objetivo distinto
\cite{teste_de_software}. Dentro de cada uma dessas fases são testados tanto
requisitos funcionais, tratando o que o software deve fazer, quanto os não
funcionais, que determina como o software deve realizar as suas atividades.
No escopo deste trabalho iremos focar apenas nos testes de requisitos não
funcionais, mais especificamente nos relacionados a desempenho.

O teste de unidade tem como foco as menores unidades do programa, que podem
ser funções, procedimentos, métodos ou classes \cite{teste_de_software}. Os
testes de integração devem ser realizados depois dos testes de unidade, e nele
a ênfase é dada na construção da estrutura do sistema \cite{teste_de_software},
a medida que as partes do software vão ficando prontas é necessário garantir
que a interação entre elas funciona. Após o software estiver completo, com
todas as partes integradas, são realizados os testes de sistema. O principal
objetivo do teste de sistema é verificar se as funcionalidades especificadas
nos documentos de requisitos estão todas corretamente implementadas
\cite{teste_de_software}. Neste trabalho focaremos nos testes de sistema,
onde o sistema já possui uma versão funcional e testaremos a peformance do
mesmo na escala de uma cidade.

Além de desempenho, existem requisitos não funcionais de usabilidade,
eficiência, confiabilidade, interoperabilidade, etc. \cite{pressman_2009}
\cite{sommerville_2011}, estando esses fora de escopo desta pesquisa. Na
próxima seção serão apresentados conceitos e características específicas de
testes de desempenho, fazendo conexões com o cenário de Cidades Inteligentes.

\section{Teste de Desempenho}
\label{sec:analise_performance}

desempenho é um critério chave no projeto, aquisição, e uso de sistemas
computacionais \cite{bukh_1992}. Alguns critérios de desempenho, como o tempo
de resposta, são reconhecidos como componentes importantes em algumas
aplicações de usabilidade e estudos de fatores humanos \cite{goodwin_1987}
\cite{nielsen_1994} \cite{shneiderman_1991} \cite{shneidermaan_2016}. Tendo
isso em vista, especificar e avaliar requisitos de desempenho em uma aplicação
ou sistema para Cidades Inteligentes tem relação direta com o uso ou não dessas
ferramentas para a melhora da qualidade de vida dos cidadãos ou otimização dos
recursos da cidade, já que longos tempos de resposta do sistema podem causar
menor satisfação e baixa produtividade entre os usuários \cite{hoxmeier_2000}.

Muitas vezes o processo de teste de desempenho é feito apenas antes da
implantação do software e de maneira desestruturada, entretanto, esses tipo de
teste deve ser feito durante todo o ciclo de desenvolvimento, visando encontrar
possíveis gargalos e refatorações previamente, já que quanto antes encontrar
problemas, menor será o custo para solucioná-los. Segundo \cite{bukh_1992},
existem alguns passos para a realização de um teste de desempenho, esses
passos são apresentados a seguir.

\begin{enumerate}
	\item Definir metas e limites do sistema.

	\item Listar os serviços do sistema e possíveis saídas.

	\item Selecionar métricas de desempenho.

	\item Listar os parâmetros do sistema e a carga de trabalho.

	\item Selecionar fatores e seus valores.

	\item Selecionar técnicas de avaliação.

	\item Selecionar carga de trabalho.

	\item Projetar experimentos.

	\item Analisar e interpretar os dados.
	
	\item Apresentar os resultados. Reiniciar o processo se necessário.
\end{enumerate}

A definição das metas e limites do sistema e listagem dos serviços providos
afetarão tanto a escolha das métricas quanto o carga a ser utilizada, portanto
devem ser os primeiros passos antes da realização do teste, estando esses
alinhados com os requisitos de desempenho. A seleção das métricas de
desempenho usualmente seguirá o que foi especificado nos requisitos de
desempenho, sendo esse um critério de comparação com outros sistemas também,
alguns exemplos são tempo de resposta (\textit{response time}) e taxa de vazão
(\textit{throughput}).  Para haver um ambiente controlado, é necessário saber
quais parâmetros podem influenciar a desempenho do sistema, e com isso
determinar os fatores que podem ser variados durante os testes. Com isso é
possível realizar a seleção da técnica de avaliação, existem três técnicas
amplamente usadas, sendo elas: modelagem analítica, simulação e medição de
sistema real \cite{bukh_1992}; e da carga de trabalho, que deve ser condizente
com a carga real que o mesmo sofrerá. O experimento de teste deve ser projetado
de modo que ao final ofereça o máximo de informações com o menor custo
\cite{bukh_1992}. Ao final, os resultados coletados dos testes devem ser
analisados e apresentados aos interessados, podendo assim ser identificados
gargalos no sistema ou simplesmente garantir que os requisitos de desempenho
estão sendo contemplados.

Neste trabalho iremos propor uma estratégia de integração entre sistemas e
aplicações e simuladores de Cidades Inteligentes, com o intuito de permitir
a realização de testes de desempenho em larga escala. Portanto, utilizaremos
a técnica de simulação para a avaliação de desempenho, e a carga será gerada
através de simulações realizadas com dados históricos da cidade, visando tornar
o cenário de teste realista. Pelo fato de cada cidade ter o seu contexto e suas
especificidades, defendemos que a geração de uma carga de trabalho realista é
um desafio, e a simulação é uma forma de solucionarmos esse problema.
Portanto, a proposta desta pesquisa visa auxiliar principalmente os passos 6 e
7 apresentados anteriormente. Os outros passos variarão de acordo com o sistema
a ser avaliado, requisitos, objetivo do teste, e outros fatores, sendo esses de
responsabilidade de quem irá conduzir os testes.

