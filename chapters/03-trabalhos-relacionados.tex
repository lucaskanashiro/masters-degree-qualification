\chapter{Trabalhos Relacionados}
\label{cap:trabalhos_relacionados}

%\todo[inline]{Nelson: voce precisa ter claro na cabeca qual a graca do
%nosso simulador, da nossa plataforma e da integracao que voce esta
%fazendo. Ai, nesta secao, voce comenta cada trabalho e mostra que,
%embora eles sejam otimos, eles nao contemplam este ou aquele aspecto
%que o seu contempla. A ideia nao e fazer um levantamento exaustivo
%de tudo que foi dito sobre smart cities e testes (mas tem que ser
%bem abrangente); a ideia e mostrar como a evolucao da pesquisa andou
%em varias direcoes e voce esta andando em mais uma, diferente.
%Fora isso, nao acho que esta seja a melhor secao para abordar o
%InterSCSimulator e a plataforma InterSCity; eles tem relacao direta
%com seu trabalho, nao sao "concorrentes", que e o que normalmente se
%coloca na secao de trabalhos relacionados. Talvez o certo seja um
%capitulo a mais so para eles.}
%
%\todo[inline]{
%Simulador: simulação em larga escala, execução paralela e distribuída, fácil
%definição de cenários, múltiplos domínios de Cidades Inteligentes
%
%Plataforma: escalável (microserviços), evolutibilidade, evitar silos verticais,
%facilitar comunicação com a infraestrutura de IoT da cidade, prover serviços
%de nuvem para aplicações
%
%Integração: permitir experimentos com cargas realistas para identificação de
%gargalos na plataforma, permitir aplicações interagirem com infraestrutura
%não existentes (futuras, hipotéticasa, reduzir custo de implantação para
%realização de testes)}

Durante a pesquisa que realizamos até o momento, não foi encontrada uma solução
que permitisse o teste e experimentação de plataformas de Cidades Inteligentes
com cenários realistas e condizente com a carga gerada por grandes cidades,
caracterizando uma área de pesquisa ainda pouco explorada. Implantações de
infraestruturas de \textit{IoT} de pequeno porte - \textit{testbeds} - vêm
sendo a principal abordagem adotada para a realização de experimentos com
sistemas e aplicações de Cidades Inteligentes. A necessidade de
\textit{benchmarks} para plataformas de Cidades Inteligentes é algo que já
começa a ser discutido no meio acadêmico~\cite{arthur_17}, com o intuito de
comparar quantitativamente diferentes plataformas. Todavia,
não encontramos uma solução amplamente utilizada. Acreditamos que a maior
dificuldade para a geração de cargas sintéticas para testes e experimentação
de sistemas e aplicações para Cidades Inteligentes seja a imprevisibilidade do
ambiente, onde essas cargas variam dependendo do horário e eventos que possam
ocorrer nas cidades.

Diversos trabalhos apresentam implantações de \textit{testbeds} reais visando
permitir experimentos e testes de aplicações de Cidades
Inteligentes. O \textit{SmartCampus}~\cite{nati_2013} é um ambiente para
realização de experimentos centrado no usuário envolvendo tecnologias de
\textit{IoT}, sendo essa infraestrutura implantada na forma de um prédio
inteligente (\textit{Smart Building}). Essa solução visa experimentar a
interação do usuário com novas tecnologias, não tendo como objetivo a
representação de cenários de larga escala no contexto de uma cidade.
O \textit{I3ASensorBed}~\cite{olivares_2013} é um \textit{testbed} que objetiva
a experimentação de redes de sensores sem fio no âmbito de Cidades
Inteligentes, os autores desse trabalho mencionam sobre a solução ser escalável
e o número de sensores ser representativo para o tamanho de uma cidade, contudo
a solução é composta de apenas 46 sensores. O \textit{FIT
IoT-LAB}~\cite{adjih_2015} também é um ambiente experimental aberto de redes de
sensores sem fio para aplicações de \textit{IoT}, os autores defendem que
suportam testes de larga escala, entretanto o ambiente contém menos de três mil
nós na rede. O número de nós presente na rede de sensores desses
\textit{testbeds} não é condizente com o tamanho de uma grande cidade, onde
espera-se milhões de sensores. Logo, eles não conseguem representar uma
infraestrutura de \textit{IoT} de uma grande cidade, não refletindo em
ambientes realistas de experimentação e teste.

O projeto \textit{SmartSantander}~\cite{galache_2012}, um ambiente experimental
implantado na cidade de Santander na Espanha, é um dos \textit{testbeds} mais
conhecidos na área de Cidades Inteligentes. Apesar do ambiente englobar toda
uma cidade, ele não consegue emular problemas que acontecem em grandes
metrópoles como São Paulo, pelo fato de ser uma cidade de pequena escala. Além
do mais, o custo monetário e de tempo para implantação de um ambiente como esse
é alto. Acreditamos que um dos maiores problemas em \textit{testbeds} reais é a
falta de flexibilidade, onde a experimentação de cenários diferentes podem
demandar um alto custo para estender a infraestrutura de \textit{IoT}.

A geração de cargas sintéticas se apresenta como uma solução para a falta de
flexibilidade de \textit{testbeds} reais, onde diferentes cargas poderiam ser
geradas para diferentes cenários sem a necessidade de extensão de qualquer
infraestrutura. Alguns \textit{benchmarks} de \textit{IoT} foram desenvolvidos
com o objetivo de experimentação e comparação entre sistemas de processamento
de fluxos de dados distribuídos, sendo esses sistemas usualmente componentes de
plataformas para Cidades Inteligentes. O
\textit{RIoTBench}~\cite{shukla_2017}~\cite{shukla_2016} é uma ferramenta de
\textit{benchmark} que visa medir a latência e a escalabilidade desses
sistemas, baseado em 27 tarefas comuns de dispositivos de \textit{IoT}. Essas
cargas geradas foram baseadas em observações de dispositivos reais em Cidades
Inteligentes, com diferentes picos e frequências. Outra ferramenta que funciona
de uma maneira similar é o \textit{SenSE}~\cite{zyrianoff_2017}, um gerador de
tráfego de \textit{IoT} para Cidades Inteligentes, onde sensores são simulados
para geração de cargas de larga escala. O projeto
\textit{FIWARE}\footnote{\url{https://www.fiware.org/}} disponibiliza uma
ferramenta para avaliação de desempenho sistemática para sistemas de software
chamada
\textit{SoPeCo}\footnote{\url{http://forge.fiware.org/plugins/mediawiki/wiki/fiware/index.php/Tools.SoPeCo}},
em que é possível a configuração de ambientes de teste na plataforma e a carga
é gerada a partir da implementação de \textit{scripts}.  Esses trabalhos
permitem gerar cargas sintéticas para teste e experimentação de sistemas e
aplicações para Cidades Inteligentes no que diz respeito a processamento de
dados providos pela infraestrutura da cidade. No entanto, não é possível a
realização de testes com cenários que envolvam atuação na cidade. Ou seja,
apenas a geração de carga sintética não permite a realização de testes e
experimentos que envolvam sensoriamento e atuação na cidade, sendo esse tipo de
cenário recorrente em Cidades Inteligentes.

Uma forma para conseguirmos prover esse ambiente de teste e experimentação é
utilizando simuladores. Com eles podemos permitir que sistemas e aplicações
sejam exercitados tanto na perspectiva de processamento de dados, quanto do
ponto de vista de atuação na infraestrutura da cidade.  Simuladores de Cidades
Inteligentes possuem modelos que representam diversos domínios de uma cidade,
como mobilidade e meio ambiente, portanto são capazes de gerar cargas
realistas. Além do mais, alguns simuladores podem ser estendidos para que
possamos modificar o comportamento de simulações durante a sua própria
execução, permitindo atuar no cenário simulado de Cidades Inteligentes. O
\textit{TraCI}~\cite{wegener_2008} é uma arquitetura aberta para interligar
simuladores de tráfego rodoviário e redes veiculares. Apesar de não prover o
ambiente de teste e experimentação que desejamos, ele nos apresenta uma técnica
para fazer com que dois simuladores interajam em tempo de simulação. Tal
solução mostra que é possível uma aplicação externa interferir em uma simulação
durante a sua execução, sendo essa a abordagem da solução que será apresentada
nesta pesquisa. Existem vários estudos em que simulações de diferentes domínios
de cidades foram
realizadas~\cite{karnouskos_2009}~\cite{kim_2009}~\cite{saha_2004}, além de
simulações envolvendo mais de um domínio das cidades, como redes veiculares
\textit{ad-hoc} (\textit{VANETs}) juntamente com um sistema de semáforos
inteligentes~\cite{barba_2012} e carros elétricos híbridos com \textit{smart
grids}~\cite{waraich_2013}. Todavia, não encontramos trabalhos que
apresentassem a solução proposta nesta pesquisa.

A arquitetura e algumas características do InterSCSimulator e da plataforma
InterSCity serão apresentadas no próximo capítulo, uma vez que entender o
funcionamento de ambos os sistemas é de suma importância para a compreensão da
integração realizada.
